(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
function embed(e,n){function o(n){return n?`${window.location.origin}/image://${e.sse.image}`:`${window.location.origin}/${e.form.address}`}e.events.EMBED_UPDATE="embed:update",e.embed={frozen:!1,url:o(!1)},n.on("DOMContentLoaded",function(){n.on(e.events.EMBED_UPDATE,function(d){e.embed.frozen=d,e.embed.url=o(d),n.emit("render")})})}module.exports=embed;

},{}],2:[function(require,module,exports){
function FormElement(){if(!(this instanceof FormElement))return new FormElement;CacheComponent.call(this),this.clock=-1}function renderProviders(e,t){var n=e.form.selected;return function(){var e=require(49),t=document.createElement("div");t.setAttribute("class","flex flex-row mt1 lh-copy");var n=document.createElement("b");return n.setAttribute("class","f6 black"),e(n,["\n        Provider:\n      "]),e(t,["\n      ",n,"\n      ",arguments[0],"\n    "]),t}(providerNames.map(function(r,i){var s="f6 ml2 bn pa0 bg-white pointer link";return r.toLowerCase()===n?s+=" black b":s+=" light-silver",function(){var e=require(49),t=document.createElement("button");return t.setAttribute("type","button"),t.onclick=arguments[0],t.setAttribute("class",arguments[1]),e(t,["\n            ",arguments[2],"\n          "]),t}(function(n){n.preventDefault(),t(e.events.FORM_SET,{key:"address",value:r.toLowerCase()+"://"})},s,r)}))}var CacheComponent=require(10),html=require(17),css=0,uploadClass=(null||!0)&&"_0ebb00e6",providerNames=["Bitbucket","Dat","Docker","Dropbox","File","GitHub","GitLab"];module.exports=FormElement,FormElement.prototype=Object.create(CacheComponent.prototype),FormElement.prototype._update=function(e,t){var n=e.form.clock,r=this.clock;return this.clock=n,n>r},FormElement.prototype._render=function(e,t){function n(n){if("Enter"!==n.keyCode){var r={key:n.target.name,value:"file"===n.target.type?n.target.files[0]:n.target.value,type:n.target.type};t(e.events.FORM_UPDATE,r)}}var r=e.form,i=function(){require(49);var e=document.createElement("input");return e.setAttribute("name","address"),e.setAttribute("id","address"),e.setAttribute("aria-label","address"),e.setAttribute("type","text"),e.setAttribute("required","required"),e.setAttribute("placeholder","For example, github://stencila/examples/diamonds"),e.setAttribute("title","Provider must be one of "+arguments[0]),e.setAttribute("pattern",".*"),e.setAttribute("value",arguments[1]),e.setAttribute("class","w-100 w-70-ns mt2 pa2 f5 b--black br2"),e}(providerNames.join(", "),r.values.address||""),s=function(){require(49);var e=document.createElement("input");return e.setAttribute("name","image"),e.setAttribute("id","image"),e.setAttribute("accept","application/x-compressed, application/x-gzip, application/x-tar"),e.setAttribute("type","file"),e.setAttribute("class",arguments[0]),e}(uploadClass),a=function(){require(49);var e=document.createElement("input");return e.setAttribute("name","token"),e.setAttribute("aria-label","token"),e.setAttribute("type","text"),e.setAttribute("required","required"),e.setAttribute("value",arguments[0]),e.setAttribute("placeholder","Token"),e.setAttribute("class","mt2 pa2 f5 b--black br2"),e}(r.values.token||"");return function(){var e=require(49),t=document.createElement("form");t.setAttribute("name","create"),t.setAttribute("id","create"),t.onsubmit=arguments[3],t.oninput=arguments[4],t.onchange=arguments[5],t.setAttribute("class","flex flex-column align-right");var n=document.createElement("label");n.setAttribute("class","f4 b"),n.setAttribute("for","address"),e(n,["\n        Document address\n      "]);var r=document.createElement("div");r.setAttribute("class","flex flex-column flex-row-ns");var i=document.createElement("label");i.setAttribute("for","image"),i.setAttribute("class","w-100 w-30-ns ml2-ns mt2 br2 ph2-ns pv2 pointer white bg-black flex justify-center"),e(i,["\n          Upload document\n        "]),e(r,["\n        ",arguments[0],"\n        ",arguments[1],"\n        ",i,"\n      "]);var s=document.createElement("span");s.setAttribute("class","mt1 lh-copy");var a=document.createElement("a");a.setAttribute("rel","noopener noreferrer"),a.setAttribute("href","http://sibyl.surge.sh/"),a.setAttribute("target","_blank"),a.setAttribute("class","bn black pointer link underline"),e(a,["docs"]);var o=document.createElement("button");o.setAttribute("type","button"),o.onclick=arguments[2],o.setAttribute("class","bn bg-white pointer pa0 ma0 link underline"),e(o,["\n          try an example\n        "]),e(s,["\n        Enter the document address. Is this your first time? See the\n        ",a,"\n        or\n        ",o,"\n      "]);var l=document.createElement("label");l.setAttribute("class","f4 b mt3"),l.setAttribute("for","token"),e(l,["\n        Beta token\n      "]);var u=document.createElement("span");u.setAttribute("class","mt2 lh-copy"),e(u,["\n        During the beta, you need to provide a beta token.\n      "]);var c=document.createElement("input");return c.setAttribute("type","submit"),c.setAttribute("aria-label","open"),c.setAttribute("value","Open"),c.setAttribute("class","mw4 mt3 mh0 bg-black white f5 bn br2 pa2 link pointer"),e(t,["\n      ",n,"\n      ",r,"\n      ",arguments[6],"\n      ",s,"\n      ",l,"\n      ",arguments[7],"\n      ",u,"\n      ",c,"\n    "]),t}(i,s,function(n){n.preventDefault(),t(e.events.FORM_SET,{key:"address",value:"github://stencila/examples/diamonds"})},function(n){if(n.preventDefault(),!1===n.target.checkValidity())return!1;var r=new window.FormData(n.target);t(e.events.FORM_SUBMIT,r)},n,n,renderProviders(e,t),a)};

},{"10":10,"17":17,"49":49,"9":9}],3:[function(require,module,exports){
(function (process){
function form(e,r){function o(){e.form.clock+=1,r.emit("render")}function t(e){if("string"!=typeof e)return null;var r=e.split("://");if(2===r.length){r=r[0];var o=providerNames.indexOf(r);return-1!==o?providerNames[o]:null}}e.events.FORM_UPDATE="form:update",e.events.FORM_SUBMIT="form:submit",e.events.FORM_SET="form:set",e.form={clock:0,values:{},selected:null,providers:providerNames},"production"!==process.env.NODE_ENV&&(e.form.values.token="platypus"),r.on("DOMContentLoaded",function(){e.params.wildcard&&(e.form.values.address=e.params.wildcard,o()),r.on(e.events.FORM_SUBMIT,function(o){onIdle(function(){xhr.post("/~launch",{body:o},function(o,t,n){if(o)return r.emit("log:error",o);if(t.statusCode>=400)return r.emit("log:error",t);var s=parse(n);return s.err?r.emit("log:error",new Error("Could not parse body response")):(s=s.value).token?void r.emit(e.events.SSE_LAUNCH_DOCUMENT,s.token):r.emit("log:error",new Error("Expected json.token to exist"))})})}),r.on(e.events.FORM_UPDATE,function(r){if("file"===r.type)e.form.values[r.key]=r.value,e.form.values.address="file://"+r.value.name,e.form.selected="file",o();else{var n=e.form.selected,s=t(r.value);e.form.values[r.key]=r.value,n!==s&&(e.form.selected=s,o())}}),r.on(e.events.FORM_SET,function(r){var n=e.form.selected,s=t(r.value);e.form.values[r.key]=r.value,n!==s&&(e.form.selected=s),o()})})}var parse=require(20),onIdle=require(36),xhr=require(46),providerNames=["bitbucket","dat","docker","dropbox","file","github","gitlab"];module.exports=form;

}).call(this,require(39))
},{"20":20,"36":36,"39":39,"46":46}],4:[function(require,module,exports){
(function (process){
const css=0,choo=require(18);null;const app=choo();"production"!==process.env.NODE_ENV&&(app.use(require(14)()),app.use(require(15)())),app.use(require(6)),app.use(require(3)),app.use(require(1)),app.route("/",require(7)),app.route("/*",require(7)),app.mount("body");

}).call(this,require(39))
},{"1":1,"14":14,"15":15,"18":18,"3":3,"39":39,"6":6,"7":7,"9":9}],5:[function(require,module,exports){
function ProgressElement(){if(!(this instanceof ProgressElement))return new ProgressElement;this.state=null,CacheComponent.call(this)}function renderLog(e){var t=e.sse;return t.log.length?function(){var e=require(49),t=document.createElement("details");t.setAttribute("class","w-100 gray");var r=document.createElement("summary");e(r,["Log"]);var n=document.createElement("div");return n.setAttribute("class","f6 pre"),e(n,["\n        ",arguments[0],"\n      "]),e(t,["\n      ",r,"\n      ",n,"\n    "]),t}(t.log.map(function(e){var t;return"stdout"===e.type?t="terminal-white":"stderr"===e.type&&(t="terminal-red"),function(){var e=require(49),t=document.createElement("pre");return t.setAttribute("class",arguments[0]+" ma0 lh-copy"),e(t,["\n              ",arguments[1],"\n            "]),t}(t,e.data)})):function(){require(49);return document.createElement("div")}()}function renderButton(e){var t=e.sse;return function(){var e=require(49),t=document.createElement("div");return t.setAttribute("class","mt4"),e(t,["\n      ",arguments[0],"\n    "]),t}(t.targetUrl?function(){var e=require(49),t=document.createElement("a");return t.setAttribute("href",arguments[0]),t.setAttribute("rel","noopener noreferrer"),t.setAttribute("target","_blank"),t.setAttribute("class","mh0 pa2 f5 ba bw1 bg-green b--green link white pointer"),e(t,["\n        View\n      "]),t}(t.targetUrl):function(){var e=require(49),t=document.createElement("a");return t.setAttribute("class","w-20 mh0 pa2 f5 ba bw1 bg-gray b--gray link white"),e(t,["\n        ",arguments[0],"ing\n      "]),t}(t.step))}var CacheComponent=require(10),equal=require(42),html=require(17),xtend=require(47);module.exports=ProgressElement,ProgressElement.prototype=Object.create(CacheComponent.prototype),ProgressElement.prototype._render=function(e,t){var r=e.sse.percent;return e.sse.log.length?function(){var e=require(49),t=document.createElement("div");t.setAttribute("class","w-100");var r=document.createElement("div");r.setAttribute("class","w-100 mt4");var n=document.createElement("h3");n.setAttribute("class","f4 b mt3"),n.setAttribute("for","token"),e(n,["\n          Progress\n        "]);var s=document.createElement("div");return s.setAttribute("style","width: "+arguments[0]+"%; height: 2em"),s.setAttribute("class","bg-gray"),e(r,["\n        ",n,"\n        ",s,"\n      "]),e(t,["\n      ",r,"\n      ",arguments[1],"\n      ",arguments[2],"\n    "]),t}(r,renderLog(e),renderButton(e)):function(){require(49);var e=document.createElement("div");return e.setAttribute("class","fl"),e}()},ProgressElement.prototype._update=function(e,t){var r=this.state;return this.state=xtend(e),!r||equal(r.sse,e.sse)};

},{"10":10,"17":17,"42":42,"47":47,"49":49}],6:[function(require,module,exports){
function sse(e,t){function s(){return e.sse.targetUrl?100:Math.min(e.sse.log.length/20*100,80)}e.events.SSE_LAUNCH_DOCUMENT="sse:launch-document",e.sse={log:[],step:null,image:null,sourceUrl:"",targetUrl:"",stderr:0,stdout:0,percent:0},t.on("DOMContentLoaded",function(){t.on(e.events.SSE_LAUNCH_DOCUMENT,function(n){e.sse.sourceUrl="/~open/"+n;const r=new window.EventSource(e.sse.sourceUrl);e.sse={log:[],step:null,image:null,sourceUrl:"",targetUrl:"",stderr:0,stdout:0,percent:0},r.addEventListener("stdout",function(n){e.sse.log.push({type:"stdout",data:n.data}),e.sse.percent=s(),e.sse.stdout+=1,t.emit("render")},!1),r.addEventListener("stderr",function(n){e.sse.log.push({type:"stderr",data:n.data}),e.sse.percent=s(),e.sse.stderr+=1,t.emit("render")},!1),r.addEventListener("step",function(s){e.sse.step=s.data,t.emit("render")},!1),r.addEventListener("image",function(s){e.sse.image=s.data,t.emit("render")},!1),r.addEventListener("goto",function(n){e.sse.targetUrl="/~session/"+n.data+"/~",e.sse.percent=s(),t.emit("render")},!1),r.addEventListener("end",function(e){r.close()},!1),r.onerror=function(e){t.emit("log:error",e),r.close()}})})}module.exports=sse;

},{}],7:[function(require,module,exports){
function mainView(e,t){var n=function(){var e=require(49),t=document.createElement("header");t.setAttribute("class","w-100");var n=document.createElement("section");n.setAttribute("class","flex flex-column flex-row-ns mw7 pa3 center items-end justify-end");var r=document.createElement("a");r.setAttribute("href","http://sibyl.surge.sh/"),r.setAttribute("class","black f4"),e(r,["\n          Docs\n        "]);var s=document.createElement("a");return s.setAttribute("href","https://community.stenci.la/"),s.setAttribute("class","black f4 mt2 mt0-ns ml0 ml3-ns"),e(s,["\n          Help\n        "]),e(n,["\n        ",r,"\n        ",s,"\n      "]),e(t,["\n      ",n,"\n    "]),t}();return function(){var e=require(49),t=document.createElement("body");t.setAttribute("class","sans-serif pb3");var n=document.createElement("main");n.setAttribute("class","flex flex-column mw7 pa3 center");var r=document.createElement("section");r.setAttribute("class","flex flex-column justify-between content-stretch");var s=document.createElement("section");s.setAttribute("class","w-100"),e(s,["\n            ",arguments[0],"\n          "]);var c=document.createElement("section");c.setAttribute("class","w-100"),e(c,["\n            ",arguments[1],"\n          "]);var a=document.createElement("section");return a.setAttribute("class","w-100"),e(a,["\n            ",arguments[2],"\n          "]),e(r,["\n          ",s,"\n          ",c,"\n          ",a,"\n        "]),e(n,["\n        ",r,"\n      "]),e(t,["\n      ",arguments[3],"\n      ",n,"\n    "]),t}(form.render(e,t),progress.render(e,t),createLinks(e,t),n)}function createLinks(e,t){if(e.sse.image){var n=e.embed.frozen,r=e.embed.url;return function(){var e=require(49),t=document.createElement("details");t.setAttribute("class","w-100 mt4");var n=document.createElement("summary");e(n,["Embed"]);var r=document.createElement("p");e(r,['Put a "Open in Stencila" button in your document']);var s=document.createElement("form"),c=document.createElement("label"),a=document.createElement("input");a.setAttribute("type","radio"),a.setAttribute("name","frozen"),a.setAttribute("value","no"),arguments[1]&&a.setAttribute(arguments[1],arguments[0]),a.onclick=arguments[2],e(c,["\n          ",a,"\n          Unfrozen link to latest version\n        "]);var i=document.createElement("label"),l=document.createElement("input");l.setAttribute("type","radio"),l.setAttribute("name","frozen"),l.setAttribute("value","yes"),arguments[4]&&l.setAttribute(arguments[4],arguments[3]),l.onclick=arguments[5],e(i,["\n          ",l,"\n          Frozen link to current version\n        "]),e(s,["\n        ",c,"\n        ",i,"\n      "]);var o=document.createElement("h4");e(o,["Markdown"]);var u=document.createElement("pre");u.setAttribute("class","pre"),e(u,["[Open in Stencila](",arguments[6],")"]);var m=document.createElement("h4");e(m,["HTML"]);var d=document.createElement("pre");return d.setAttribute("class","pre"),e(d,['&lt;a href="',arguments[7],'"&gt;Open in Stencila&lt;/a&gt;']),e(t,["\n      ",n,"\n      ",r,"\n      ",s,"\n      ",o,"\n      ",u,"\n      ",m,"\n      ",d,"\n    "]),t}(n?"":"checked",n?"":"checked",t.bind(t,e.events.EMBED_UPDATE,!1),n?"checked":"",n?"checked":"",t.bind(t,e.events.EMBED_UPDATE,!0),r,r)}}var html=require(17),css=0,progress=require(5)(),form=require(2)();null,module.exports=mainView;

},{"17":17,"2":2,"49":49,"5":5,"9":9}],8:[function(require,module,exports){

},{}],9:[function(require,module,exports){

},{}],10:[function(require,module,exports){
function makeId(){return"cc-"+Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function CacheComponent(){this._hasWindow="undefined"!=typeof window,this._proxy=null,this._args=null,this._ccId=null,this._id=null;var t=this;Object.defineProperty(this,"_element",{get:function(){var e=document.getElementById(t._id);if(e)return e.dataset.cacheComponent===t._ccId?e:void 0}})}var document=require(22),morph=require(11);module.exports=CacheComponent,CacheComponent.prototype.render=function(){for(var t=new Array(arguments.length),e=0;e<arguments.length;e++)t[e]=arguments[e];return this._hasWindow?this._element?(this._update.apply(this,t)&&(this._args=t,this._proxy=null,morph(this._element,this._brandNode(this._handleId(this._render.apply(this,t)))),this._didUpdate&&window.requestAnimationFrame(function(){this._didUpdate()})),this._proxy||(this._proxy=this._createProxy()),this._proxy):(this._ccId=makeId(),this._args=t,this._brandNode(this._handleId(this._render.apply(this,t)))):this._render.apply(this,t)},CacheComponent.prototype._createProxy=function(){var t=document.createElement("div"),e=this;return this._brandNode(t),t.id=this._id,t.isSameNode=function(t){return t&&t.dataset.cacheComponent===e._ccId},t},CacheComponent.prototype._brandNode=function(t){return t.setAttribute("data-cache-component",this._ccId),t},CacheComponent.prototype._handleId=function(t){return t.id?this._id=t.id:t.id=this._id=this._ccId,t},CacheComponent.prototype._render=function(){throw new Error("cahce-component: _render should be implemented!")},CacheComponent.prototype._update=function(){var t=arguments.length;if(t!==this._args.length)return!0;for(var e=0;e<t;e++)if(arguments[e]!==this._args[e])return!0;return!1};

},{"11":11,"22":22}],11:[function(require,module,exports){
function nanomorph(e,o){return persistStatefulRoot(o,e),walk(o,e)}function walk(e,o){return o?e?e.isSameNode&&e.isSameNode(o)?o:e.tagName!==o.tagName?e:(morph(e,o),updateChildren(e,o),o):null:e}function updateChildren(e,o){if(e.childNodes&&o.childNodes)for(var t=e.childNodes.length,a=o.childNodes.length,r=Math.max(a,t),d=0,l=0,i=0;i<r;i++,d++,l++){var n=e.childNodes[d],h=o.childNodes[l],s=walk(n,h);s?h?s!==h&&(o.replaceChild(s,h),d--):s&&(o.appendChild(s),d--):h&&(o.removeChild(h),l--)}}function persistStatefulRoot(e,o){if(e&&o&&o.nodeType===ELEMENT_NODE&&e.nodeType===ELEMENT_NODE)for(var t,a,r=o.attributes,d=0,l=r.length;d<l;d++)if(t=r[d],a=t.name,rootLabelRegex.test(a)){e.setAttribute(a,t.value);break}}var morph=require(13),rootLabelRegex=/^data-onloadid/,ELEMENT_NODE=1;module.exports=nanomorph;

},{"13":13}],12:[function(require,module,exports){
module.exports=["onclick","ondblclick","onmousedown","onmouseup","onmouseover","onmousemove","onmouseout","onmouseenter","onmouseleave","ondragstart","ondrag","ondragenter","ondragleave","ondragover","ondrop","ondragend","onkeydown","onkeypress","onkeyup","onunload","onabort","onerror","onresize","onscroll","onselect","onchange","onsubmit","onreset","onfocus","onblur","oninput","oncontextmenu","onfocusin","onfocusout"];

},{}],13:[function(require,module,exports){
function morph(e,t){var u=e.nodeType,a=e.nodeName;u===ELEMENT_NODE&&copyAttrs(e,t),u!==TEXT_NODE&&u!==COMMENT_NODE||(t.nodeValue=e.nodeValue),"INPUT"===a?updateInput(e,t):"OPTION"===a?updateOption(e,t):"TEXTAREA"===a?updateTextarea(e,t):"SELECT"===a&&updateSelect(e,t),copyEvents(e,t)}function copyAttrs(e,t){for(var u=t.attributes,a=e.attributes,n=null,r=null,l=null,i=null,o=a.length-1;o>=0;--o)l=(i=a[o]).name,n=i.namespaceURI,r=i.value,n?(l=i.localName||l,t.getAttributeNS(n,l)!==r&&t.setAttributeNS(n,l,r)):t.getAttribute(l)!==r&&("null"===r||"undefined"===r?t.removeAttribute(l):t.setAttribute(l,r));for(var d=u.length-1;d>=0;--d)!1!==(i=u[d]).specified&&(l=i.name,(n=i.namespaceURI)?(l=i.localName||l,e.hasAttributeNS(n,l)||t.removeAttributeNS(n,l)):e.hasAttributeNS(null,l)||t.removeAttribute(l))}function copyEvents(e,t){for(var u=0;u<eventsLength;u++){var a=events[u];e[a]?t[a]=e[a]:t[a]&&(t[a]=void 0)}}function updateOption(e,t){updateAttribute(e,t,"selected")}function updateInput(e,t){var u=e.value,a=t.value;updateAttribute(e,t,"checked"),updateAttribute(e,t,"disabled"),e.hasAttributeNS(null,"value")&&"null"!==u?u!==a?(t.setAttribute("value",u),t.value=u):"range"===t.type&&(t.value=u):(t.value="",t.removeAttribute("value"))}function updateTextarea(e,t){var u=e.value;if(u!==t.value&&(t.value=u),t.firstChild){if(""===u&&t.firstChild.nodeValue===t.placeholder)return;t.firstChild.nodeValue=u}}function updateSelect(e,t){if(!t.hasAttributeNS(null,"multiple")){for(var u=0,a=t.firstChild;a;){var n=a.nodeName;if(n&&"OPTION"===n.toUpperCase()){if(a.hasAttributeNS(null,"selected"))break;u++}a=a.nextSibling}e.selectedIndex=u}}function updateAttribute(e,t,u){e[u]!==t[u]&&(t[u]=e[u],e[u]?t.setAttribute(u,""):t.removeAttribute(u,""))}var events=require(12),eventsLength=events.length,ELEMENT_NODE=1,TEXT_NODE=3,COMMENT_NODE=8;module.exports=morph;

},{"12":12}],14:[function(require,module,exports){
function expose(){return function(o,e){e.on("DOMContentLoaded",function(){function n(){return console.table(t),i+" events recorded, showing the last "+MAX_HISTORY_LENGTH}window.choo={},window.choo.state=o,window.choo.emit=function(o,n){e.emit(o,n)},window.choo.on=function(o,n){e.on(o,n)};var t=[],i=0;window.choo._history=t,window.choo.history=n,Object.defineProperty(window.choo,"log",{get:n}),Object.defineProperty(window.choo,"history",{get:n}),e.on("*",function(o,e){i+=1;var n=new Event(o,e);t.push(n),onIdle(function(){var o=t.length;o>MAX_HISTORY_LENGTH&&removeItems(t,0,o-MAX_HISTORY_LENGTH)})})})}}function Event(o,e){this.name=o,this.data=e}var removeItems=require(40),onIdle=require(36),MAX_HISTORY_LENGTH=150;module.exports=expose;

},{"36":36,"40":40}],15:[function(require,module,exports){
function logger(n){n=n||{};var o=!0;return function(n,r){var e=ChooInstrument(r),i=nanologger("choo");e.on("log:debug",i.debug.bind(i)),e.on("log:info",i.info.bind(i)),e.on("log:warn",i.warn.bind(i)),e.on("log:error",i.error.bind(i)),e.on("log:fatal",i.fatal.bind(i)),e.on("event",function(n,o,r){if(r){var e=r.duration.toFixed(),t=e<50?"info":"warn";void 0!==o?i[t](n,o,e+"ms"):i[t](n,e+"ms")}else void 0!==o?i.info(n,o):i.info(n)}),e.on("use",function(n,o){i.debug("use",{count:n},o+"ms")}),e.on("unhandled",function(n,o){i.error("No listeners for "+n)}),e.on("DOMContentLoaded",function(n){if(!n)return i.info("DOMContentLoaded");i[n.interactive<1e3?"info":"warn"]("DOMContentLoaded",n.interactive+"ms to interactive")}),e.on("render",function(n){if(!n)return i.info("render");var r=n.render.duration.toFixed(),e="render";o&&(o=!1,e="initial "+e);var t=Math.min((600/r).toFixed(),60);60===t?i.info(e,t+"fps",r+"ms"):i.warn(e,t+"fps",r+"ms",{render:n.render.duration.toFixed()+"ms",morph:n.morph.duration.toFixed()+"ms"})}),e.on("resource-timing-buffer-full",function(){i.error("The browser's Resource Resource timing buffer is full. Cannot store any more timing information")}),e.start()}}var nanologger=require(28),ChooInstrument=require(16);module.exports=logger;

},{"16":16,"28":28}],16:[function(require,module,exports){
function ChooInstrument(e){if(!(this instanceof ChooInstrument))return new ChooInstrument(e);this.hasWindow="undefined"!=typeof window,this.hasIdleCallback=this.hasWindow&&window.requestIdleCallback,this.hasPerformance=this.hasWindow&&window.performance&&window.performance.getEntriesByName,this.emitter=e,this.listeners={},this.buffer={use:[],render:[],events:{}}}function sumDurations(e){return e.reduce(function(e,r){return e+r.duration},0).toFixed()}var onPerformance=require(37),onIdle=require(36);module.exports=ChooInstrument,ChooInstrument.prototype.on=function(e,r){this.listeners[e]=r},ChooInstrument.prototype.start=function(){var e=this;this.hasPerformance&&(window.performance.onresourcetimingbufferfull=function(){var r=e.listeners["resource-timing-buffer-full"];r&&r()}),onPerformance(function(r){if(r&&"measure"===r.entryType){var n=r.name;if(/choo\.morph/.test(n))e.buffer.render.push(r);else if(/choo\.route/.test(n))e.buffer.render.push(r);else if(/choo\.render/.test(n))e.buffer.render.push(r);else if(/choo\.use/.test(n))e.buffer.use.push(r);else if(/choo\.emit/.test(n)&&!/log:/.test(n)){var t=e.listeners.event;if(t){var o=n.match(/choo\.emit\('(.*)'\)/)[1];if("render"===o||"DOMContentLoaded"===o)return;var s=n.match(/\[(\d+)\]/)[1],i=e.buffer.events[s];e.buffer.events[s]=null,t(o,i,r)}}if(3===e.buffer.render.length){var f=e.listeners.render;if(!f)return;for(var a={};e.buffer.render.length;){var u=e.buffer.render.pop(),d=u.name;/choo\.render/.test(d)?a.render=u:/choo\.morph/.test(d)?a.morph=u:a.route=u}f(a)}}}),this.emitter.on("*",function(r,n,t){var o=/^log:(\w{4,5})/.exec(r);if(e.hasPerformance||"render"!==r)if("DOMContentLoaded"===r)e._emitLoaded();else if(o){var s=e.listeners["log:"+o[1]];s&&s(r,n)}else if(e.emitter.listeners(r).length)"render"!==r&&e.hasPerformance&&(e.buffer.events[t]=n);else{var i=e.listeners.unhandled;i&&i(r,n)}else{var f=e.listeners.render;f&&f()}})},ChooInstrument.prototype._emitLoaded=function(){var e=this;onIdle(function(){var r=e.listeners.DOMContentLoaded,n=e.listeners.use,t=e.hasWindow&&window.performance&&window.performance.timing;if(r&&t&&r({interactive:t.domInteractive-t.navigationStart,loaded:t.domContentLoadedEventEnd-t.navigationStart}),e.hasPerformance){var o=sumDurations(e.buffer.use);n&&n(e.buffer.use.length,o)}else n()})};

},{"36":36,"37":37}],17:[function(require,module,exports){
module.exports={};

},{}],18:[function(require,module,exports){
function Choo(t){if(!(this instanceof Choo))return new Choo(t);t=t||{};var e=this;this._events={DOMCONTENTLOADED:"DOMContentLoaded",DOMTITLECHANGE:"DOMTitleChange",REPLACESTATE:"replaceState",PUSHSTATE:"pushState",NAVIGATE:"navigate",POPSTATE:"popState",RENDER:"render"},this._historyEnabled=void 0===t.history||t.history,this._hrefEnabled=void 0===t.href||t.href,this._hasWindow="undefined"!=typeof window,this._createLocation=nanolocation,this._tree=null,this.router=nanorouter({curry:!0}),this.emitter=nanobus("choo.emit"),this.state={events:this._events},this.emitter.prependListener(this._events.DOMTITLECHANGE,function(t){e.state.title=t,e._hasWindow&&(document.title=t)})}var scrollToAnchor=require(41),documentReady=require(19),nanolocation=require(27),nanotiming=require(35),nanorouter=require(34),nanomorph=require(29),nanoquery=require(32),nanohref=require(26),nanoraf=require(33),nanobus=require(25);module.exports=Choo;var HISTORY_OBJECT={};Choo.prototype.route=function(t,e){var n=this;this.router.on(t,function(o){return function(){n.state.params=o,n.state.route=t;var r=nanotiming("choo.route('"+t+"')"),i=e(n.state,function(t,e){n.emitter.emit(t,e)});return r(),i}})},Choo.prototype.use=function(t){var e=nanotiming("choo.use");t(this.state,this.emitter,this),e()},Choo.prototype.start=function(){var t=this;this._historyEnabled&&(this.emitter.prependListener(this._events.NAVIGATE,function(){t.emitter.emit(t._events.RENDER),t.state.query=nanoquery(window.location.search),setTimeout(scrollToAnchor.bind(null,window.location.hash),0)}),this.emitter.prependListener(this._events.POPSTATE,function(){t.emitter.emit(t._events.NAVIGATE)}),this.emitter.prependListener(this._events.PUSHSTATE,function(e){window.history.pushState(HISTORY_OBJECT,null,e),t.emitter.emit(t._events.NAVIGATE)}),this.emitter.prependListener(this._events.REPLACESTATE,function(e){window.history.replaceState(HISTORY_OBJECT,null,e),t.emitter.emit(t._events.NAVIGATE)}),window.onpopstate=function(){t.emitter.emit(t._events.POPSTATE)},t._hrefEnabled&&nanohref(function(e){var n=e.href;n!==window.location.href&&t.emitter.emit(t._events.PUSHSTATE,n)}));var e=this._createLocation();return this._tree=this.router(e),this.state.query=nanoquery(window.location.search),this.emitter.prependListener(t._events.RENDER,nanoraf(function(){var e=nanotiming("choo.render"),n=t.router(t._createLocation()),o=nanotiming("choo.morph");nanomorph(t._tree,n),o(),e()})),documentReady(function(){t.state.title=document.title,t.emitter.emit(t._events.DOMCONTENTLOADED)}),this._tree},Choo.prototype.mount=function(t){var e=this;documentReady(function(){var n=nanotiming("choo.render"),o=e.start();e._tree=document.querySelector(t);var r=nanotiming("choo.morph");nanomorph(e._tree,o),r(),n()})},Choo.prototype.toString=function(t,e){return(this.state=e||{}).query=nanoquery(t),this.router(t).toString()};

},{"19":19,"25":25,"26":26,"27":27,"29":29,"32":32,"33":33,"34":34,"35":35,"41":41}],19:[function(require,module,exports){
"use strict";function ready(e){var t=document.readyState;if("complete"===t||"interactive"===t)return setTimeout(e,0);document.addEventListener("DOMContentLoaded",function(){e()})}module.exports=ready;

},{}],20:[function(require,module,exports){
"use strict";function Parse(e){if(!(this instanceof Parse))return new Parse(e);this.err=null,this.value=null;try{this.value=JSON.parse(e)}catch(e){this.err=e}}module.exports=Parse;

},{}],21:[function(require,module,exports){
function forEach(r,t,o){if(!isFunction(t))throw new TypeError("iterator must be a function");arguments.length<3&&(o=this),"[object Array]"===toString.call(r)?forEachArray(r,t,o):"string"==typeof r?forEachString(r,t,o):forEachObject(r,t,o)}function forEachArray(r,t,o){for(var n=0,a=r.length;n<a;n++)hasOwnProperty.call(r,n)&&t.call(o,r[n],n,r)}function forEachString(r,t,o){for(var n=0,a=r.length;n<a;n++)t.call(o,r.charAt(n),n,r)}function forEachObject(r,t,o){for(var n in r)hasOwnProperty.call(r,n)&&t.call(o,r[n],n,r)}var isFunction=require(24);module.exports=forEach;var toString=Object.prototype.toString,hasOwnProperty=Object.prototype.hasOwnProperty;

},{"24":24}],22:[function(require,module,exports){
(function (global){
var topLevel="undefined"!=typeof global?global:"undefined"!=typeof window?window:{},minDoc=require(8),doccy;"undefined"!=typeof document?doccy=document:(doccy=topLevel["__GLOBAL_DOCUMENT_CACHE@4"])||(doccy=topLevel["__GLOBAL_DOCUMENT_CACHE@4"]=minDoc),module.exports=doccy;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"8":8}],23:[function(require,module,exports){
(function (global){
var win;win="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},module.exports=win;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],24:[function(require,module,exports){
function isFunction(o){var t=toString.call(o);return"[object Function]"===t||"function"==typeof o&&"[object RegExp]"!==t||"undefined"!=typeof window&&(o===window.setTimeout||o===window.alert||o===window.confirm||o===window.prompt)}module.exports=isFunction;var toString=Object.prototype.toString;

},{}],25:[function(require,module,exports){
function Nanobus(t){if(!(this instanceof Nanobus))return new Nanobus(t);this._name=t||"nanobus",this._starListeners=[],this._listeners={}}var splice=require(40),nanotiming=require(35);module.exports=Nanobus,Nanobus.prototype.emit=function(t,s){var e=nanotiming(this._name+"('"+t+"')"),i=this._listeners[t];return i&&i.length>0&&this._emit(this._listeners[t],s),this._starListeners.length>0&&this._emit(this._starListeners,t,s,e.uuid),e(),this},Nanobus.prototype.on=Nanobus.prototype.addListener=function(t,s){return"*"===t?this._starListeners.push(s):(this._listeners[t]||(this._listeners[t]=[]),this._listeners[t].push(s)),this},Nanobus.prototype.prependListener=function(t,s){return"*"===t?this._starListeners.unshift(s):(this._listeners[t]||(this._listeners[t]=[]),this._listeners[t].unshift(s)),this},Nanobus.prototype.once=function(t,s){function e(){s.apply(i,arguments),i.removeListener(t,e)}var i=this;return this.on(t,e),this},Nanobus.prototype.prependOnceListener=function(t,s){function e(){s.apply(i,arguments),i.removeListener(t,e)}var i=this;return this.prependListener(t,e),this},Nanobus.prototype.removeListener=function(t,s){function e(t,s){if(t){var e=t.indexOf(s);return-1!==e?(splice(t,e,1),!0):void 0}}return"*"===t?(this._starListeners=this._starListeners.slice(),e(this._starListeners,s)):(void 0!==this._listeners[t]&&(this._listeners[t]=this._listeners[t].slice()),e(this._listeners[t],s))},Nanobus.prototype.removeAllListeners=function(t){return t?"*"===t?this._starListeners=[]:this._listeners[t]=[]:(this._starListeners=[],this._listeners={}),this},Nanobus.prototype.listeners=function(t){var s="*"!==t?this._listeners[t]:this._starListeners,e=[];if(s)for(var i=s.length,n=0;n<i;n++)e.push(s[n]);return e},Nanobus.prototype._emit=function(t,s,e,i){if(void 0!==t){void 0===e&&(e=s,s=null);for(var n=t.length,r=0;r<n;r++){var o=t[r];s?void 0!==i?o(s,e,i):o(s,e):o(e)}}};

},{"35":35,"40":40}],26:[function(require,module,exports){
function href(e,t){t=t||window.document,window.addEventListener("click",function(r){if(!(r.button&&0!==r.button||r.ctrlKey||r.metaKey||r.altKey||r.shiftKey||r.defaultPrevented)){var n=function e(r){if(r&&r!==t)return"a"!==r.localName||void 0===r.href?e(r.parentNode):r}(r.target);n&&(window.location.origin!==n.origin||n.hasAttribute("download")||"_blank"===n.getAttribute("target")&&safeExternalLink.test(n.getAttribute("rel"))||protocolLink.test(n.getAttribute("href"))||(r.preventDefault(),e(n)))}})}var safeExternalLink=/[noopener|noreferrer] [noopener|noreferrer]/,protocolLink=/^[\w-_]+:/;module.exports=href;

},{}],27:[function(require,module,exports){
function nanolocation(){return window.location.pathname.replace(/\/$/,"")+window.location.hash.replace(/^#/,"/")}module.exports=nanolocation;

},{}],28:[function(require,module,exports){
function Nanologger(o){if(!(this instanceof Nanologger))return new Nanologger(o);this._name=o||"";try{this.logLevel=window.localStorage.getItem("logLevel")||"info"}catch(o){this.logLevel="info"}this._logLevel=levels[this.logLevel]}function color(o){return"color: "+o+";"}function getTimeStamp(){var o=new Date;return pad(o.getHours().toString())+":"+pad(o.getMinutes().toString())+":"+pad(o.getSeconds().toString())}function pad(o){return 2!==o.length?0+o:o}var emojis={debug:"🐛",info:"✨",warn:"⚠️",error:"🚨",fatal:"💀"},levels={debug:20,info:30,warn:40,error:50,fatal:60},colors={foreground:"#d3c0c8",background:"#2d2d2d",black:"#2d2d2d",red:"#f2777a",green:"#99cc99",yellow:"#ffcc66",blue:"#6699cc",magenta:"#cc99cc",cyan:"#66cccc",white:"#d3d0c8",brightBlack:"#747369"};module.exports=Nanologger,Nanologger.prototype.debug=function(){for(var o=["debug"],r=0,t=arguments.length;r<t;r++)o.push(arguments[r]);this._print.apply(this,o)},Nanologger.prototype.info=function(){for(var o=["info"],r=0,t=arguments.length;r<t;r++)o.push(arguments[r]);this._print.apply(this,o)},Nanologger.prototype.warn=function(){for(var o=["warn"],r=0,t=arguments.length;r<t;r++)o.push(arguments[r]);this._print.apply(this,o)},Nanologger.prototype.error=function(){for(var o=["error"],r=0,t=arguments.length;r<t;r++)o.push(arguments[r]);this._print.apply(this,o)},Nanologger.prototype.fatal=function(){for(var o=["fatal"],r=0,t=arguments.length;r<t;r++)o.push(arguments[r]);this._print.apply(this,o)},Nanologger.prototype._print=function(o){if(!(levels[o]<this._logLevel)){var r=getTimeStamp(),t=emojis[o],e=this._name||"unknown",n="error"===o||o.fatal?colors.red:"warn"===o?colors.yellow:colors.green,l=[],a=[null],c="%c%s "+t+" %c%s";a.push(color(colors.brightBlack),r),a.push(color(colors.magenta),e);for(var s=1,g=arguments.length;s<g;s++){var i=arguments[s];"string"==typeof i?1===s?(c+=" %c%s",a.push(color(n)),a.push(i)):/ms$/.test(i)?(c+=" %c%s",a.push(color(colors.brightBlack)),a.push(i)):(c+=" %c%s",a.push(color(colors.white)),a.push(i)):"number"==typeof i?(c+=" %c%d",a.push(color(colors.magenta)),a.push(i)):l.push(i)}a[0]=c,l.forEach(function(o){a.push(o)}),console.log.apply(console,a)}};

},{}],29:[function(require,module,exports){
function nanomorph(e,a){return walk(a,e)}function walk(e,a){return a?e?e.isSameNode&&e.isSameNode(a)?a:e.tagName!==a.tagName?e:(morph(e,a),updateChildren(e,a),a):null:e}function updateChildren(e,a){for(var i,d,l,o,r=0,n=0;i=a.childNodes[n],d=e.childNodes[n-r],i||d;n++)if(d)if(i)if(same(d,i))(l=walk(d,i))!==i&&(a.replaceChild(l,i),r++);else{o=null;for(var m=n;m<a.childNodes.length;m++)if(same(a.childNodes[m],d)){o=a.childNodes[m];break}o?((l=walk(d,o))!==o&&r++,a.insertBefore(l,i)):d.id||i.id?(a.insertBefore(d,i),r++):(l=walk(d,i))!==i&&(a.replaceChild(l,i),r++)}else a.appendChild(d),r++;else a.removeChild(i),n--}function same(e,a){return e.id?e.id===a.id:e.isSameNode?e.isSameNode(a):e.tagName===a.tagName&&(e.type===TEXT_NODE&&e.nodeValue===a.nodeValue)}var morph=require(31),TEXT_NODE=3;module.exports=nanomorph;

},{"31":31}],30:[function(require,module,exports){
module.exports=["onclick","ondblclick","onmousedown","onmouseup","onmouseover","onmousemove","onmouseout","onmouseenter","onmouseleave","ondragstart","ondrag","ondragenter","ondragleave","ondragover","ondrop","ondragend","onkeydown","onkeypress","onkeyup","onunload","onabort","onerror","onresize","onscroll","onselect","onchange","onsubmit","onreset","onfocus","onblur","oninput","oncontextmenu","onfocusin","onfocusout"];

},{}],31:[function(require,module,exports){
function morph(e,t){var u=e.nodeType,a=e.nodeName;u===ELEMENT_NODE&&copyAttrs(e,t),u!==TEXT_NODE&&u!==COMMENT_NODE||(t.nodeValue=e.nodeValue),"INPUT"===a?updateInput(e,t):"OPTION"===a?updateOption(e,t):"TEXTAREA"===a&&updateTextarea(e,t),copyEvents(e,t)}function copyAttrs(e,t){for(var u=t.attributes,a=e.attributes,r=null,n=null,l=null,i=null,o=a.length-1;o>=0;--o)l=(i=a[o]).name,r=i.namespaceURI,n=i.value,r?(l=i.localName||l,t.getAttributeNS(r,l)!==n&&t.setAttributeNS(r,l,n)):t.hasAttribute(l)?t.getAttribute(l)!==n&&("null"===n||"undefined"===n?t.removeAttribute(l):t.setAttribute(l,n)):t.setAttribute(l,n);for(var v=u.length-1;v>=0;--v)!1!==(i=u[v]).specified&&(l=i.name,(r=i.namespaceURI)?(l=i.localName||l,e.hasAttributeNS(r,l)||t.removeAttributeNS(r,l)):e.hasAttributeNS(null,l)||t.removeAttribute(l))}function copyEvents(e,t){for(var u=0;u<eventsLength;u++){var a=events[u];e[a]?t[a]=e[a]:t[a]&&(t[a]=void 0)}}function updateOption(e,t){updateAttribute(e,t,"selected")}function updateInput(e,t){var u=e.value,a=t.value;updateAttribute(e,t,"checked"),updateAttribute(e,t,"disabled"),u!==a&&(t.setAttribute("value",u),t.value=u),"null"===u&&(t.value="",t.removeAttribute("value")),e.hasAttributeNS(null,"value")?"range"===t.type&&(t.value=u):t.removeAttribute("value")}function updateTextarea(e,t){var u=e.value;if(u!==t.value&&(t.value=u),t.firstChild&&t.firstChild.nodeValue!==u){if(""===u&&t.firstChild.nodeValue===t.placeholder)return;t.firstChild.nodeValue=u}}function updateAttribute(e,t,u){e[u]!==t[u]&&(t[u]=e[u],e[u]?t.setAttribute(u,""):t.removeAttribute(u))}var events=require(30),eventsLength=events.length,ELEMENT_NODE=1,TEXT_NODE=3,COMMENT_NODE=8;module.exports=morph;

},{"30":30}],32:[function(require,module,exports){
function qs(e){var n={};return e.replace(/^.*\?/,"").replace(reg,function(e,o,r,d){n[window.decodeURIComponent(o)]=window.decodeURIComponent(d)}),n}var reg=new RegExp("([^?=&]+)(=([^&]*))?","g");module.exports=qs;

},{}],33:[function(require,module,exports){
"use strict";function nanoraf(n,r){r||(r=window.requestAnimationFrame);var a=!1,o=null;return function(){null!==o||a||(a=!0,r(function(){a=!1;for(var r=o.length,t=new Array(r),u=0;u<r;u++)t[u]=o[u];n.apply(n,t),o=null})),o=arguments}}module.exports=nanoraf;

},{}],34:[function(require,module,exports){
function Nanorouter(e){function r(e){return n?(e=pathname(e,isLocalFile))===a?t():(a=e,(t=o(e))()):o(e)}var o=wayfarer((e=e||{}).default||"/404"),n=e.curry||!1,t=null,a=null;return r.router=o,r.on=function(e,r){e=e.replace(/^[#\/]/,""),o.on(e,r)},r}function pathname(e,r){return(e=r?e.replace(stripElectron,""):e.replace(prefix,"")).replace(suffix,"").replace(normalize,"/")}var wayfarer=require(44),isLocalFile=/file:\/\//.test("object"==typeof window&&window.location&&window.location.origin),electron="^(file://|/)(.*.html?/?)?",protocol="^(http(s)?(://))?(www.)?",domain="[a-zA-Z0-9-_.]+(:[0-9]{1,5})?(/{1})?",qs="[?].*$",stripElectron=new RegExp(electron),prefix=new RegExp(protocol+domain),normalize=new RegExp("#"),suffix=new RegExp(qs);module.exports=Nanorouter;

},{"44":44}],35:[function(require,module,exports){
function nanotiming(e){function r(r){var a="end-"+n+"-"+e;perf.mark(a),onIdle(function(){var i=e+" ["+n+"]";perf.measure(i,o,a),perf.clearMarks(o),perf.clearMarks(a),r&&r(e)})}if(!hasPerf||disabled)return noop;var n=(100*perf.now()).toFixed(),o="start-"+n+"-"+e;return perf.mark(o),r.uuid=n,r}function noop(e){e&&onIdle(e)}var onIdle=require(36),hasWindow="undefined"!=typeof window,disabled=hasWindow&&"true"===window.localStorage.DISABLE_NANOTIMING,perf=hasWindow&&window.performance,hasPerf=perf&&perf.mark;module.exports=nanotiming;

},{"36":36}],36:[function(require,module,exports){
function onIdle(d,e){e=e||dftOpts;var n;return hasIdle?(n=window.requestIdleCallback(d,e),window.cancelIdleCallback.bind(window,n)):hasWindow?(n=setTimeout(d,0),clearTimeout.bind(window,n)):void 0}var dftOpts={},hasWindow="undefined"!=typeof window,hasIdle=hasWindow&&window.requestIdleCallback;module.exports=onIdle;

},{}],37:[function(require,module,exports){
function onPerformance(e){function n(e){var n=e.entryType;"measure"===n?window.performance.clearMeasures(e.name):"resource"===n&&window.performance.clearResourceTimings()}var r="undefined"!=typeof window&&window.PerformanceObserver;if(r){var o=new r(function(r){r.getEntries().forEach(function(r){onIdle(function(){e(r),n(r)})})});return o.observe({entryTypes:["frame","measure","navigation","resource","longtask"]}),window.performance.getEntries().forEach(function(r){onIdle(function(){e(r),n(r)})}),window["obs"+window.performance.now()]=o,o.disconnect.bind(o)}}var onIdle=require(36);module.exports=onPerformance;

},{"36":36}],38:[function(require,module,exports){
var trim=require(43),forEach=require(21),isArray=function(r){return"[object Array]"===Object.prototype.toString.call(r)};module.exports=function(r){if(!r)return{};var t={};return forEach(trim(r).split("\n"),function(r){var i=r.indexOf(":"),e=trim(r.slice(0,i)).toLowerCase(),o=trim(r.slice(i+1));void 0===t[e]?t[e]=o:isArray(t[e])?t[e].push(o):t[e]=[t[e],o]}),t};

},{"21":21,"43":43}],39:[function(require,module,exports){
function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(e){if(cachedSetTimeout===setTimeout)return setTimeout(e,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(e,0);try{return cachedSetTimeout(e,0)}catch(t){try{return cachedSetTimeout.call(null,e,0)}catch(t){return cachedSetTimeout.call(this,e,0)}}}function runClearTimeout(e){if(cachedClearTimeout===clearTimeout)return clearTimeout(e);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(e);try{return cachedClearTimeout(e)}catch(t){try{return cachedClearTimeout.call(null,e)}catch(t){return cachedClearTimeout.call(this,e)}}}function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var e=runTimeout(cleanUpNextTick);draining=!0;for(var t=queue.length;t;){for(currentQueue=queue,queue=[];++queueIndex<t;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,t=queue.length}currentQueue=null,draining=!1,runClearTimeout(e)}}function Item(e,t){this.fun=e,this.array=t}function noop(){}var process=module.exports={},cachedSetTimeout,cachedClearTimeout;!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var queue=[],draining=!1,currentQueue,queueIndex=-1;process.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];queue.push(new Item(e,t)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.prependListener=noop,process.prependOnceListener=noop,process.listeners=function(e){return[]},process.binding=function(e){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(e){throw new Error("process.chdir is not supported")},process.umask=function(){return 0};

},{}],40:[function(require,module,exports){
"use strict";module.exports=function(t,e,r){var n,o=t.length;if(!(e>=o||0===r)){var f=o-(r=e+r>o?o-e:r);for(n=e;n<f;++n)t[n]=t[n+r];t.length=f}};

},{}],41:[function(require,module,exports){
function scrollToAnchor(o,c){if(o)try{var r=document.querySelector(o);r&&r.scrollIntoView(c)}catch(o){}}module.exports=scrollToAnchor;

},{}],42:[function(require,module,exports){
module.exports=function(r,e,t,o){var n=t?t.call(o,r,e):void 0;if(void 0!==n)return!!n;if(r===e)return!0;if("object"!=typeof r||!r||"object"!=typeof e||!e)return!1;var i=Object.keys(r),f=Object.keys(e);if(i.length!==f.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(e),v=0;v<i.length;v++){var a=i[v];if(!u(a))return!1;var c=r[a],l=e[a];if(!1===(n=t?t.call(o,c,l,a):void 0)||void 0===n&&c!==l)return!1}return!0};

},{}],43:[function(require,module,exports){
function trim(r){return r.replace(/^\s*|\s*$/g,"")}exports=module.exports=trim,exports.left=function(r){return r.replace(/^\s*/,"")},exports.right=function(r){return r.replace(/\s*$/,"")};

},{}],44:[function(require,module,exports){
function Wayfarer(r){function e(r){for(var e=new Array(arguments.length),n=1;n<e.length;n++)e[n]=arguments[n];var i=t.match(r);if(i&&i.cb){e[0]=i.params;var c=i.cb;return c.apply(c,e)}var f=t.match(a);if(f&&f.cb){e[0]=f.params;var o=f.cb;return o.apply(o,e)}throw new Error("route '"+r+"' did not match")}if(!(this instanceof Wayfarer))return new Wayfarer(r);var a=(r||"").replace(/^\//,""),t=trie();return e._trie=t,e.emit=e,e.on=function(r,a){return r=r||"/",a.route=r,a&&a._wayfarer&&a._trie?t.mount(r,a._trie.trie):t.create(r).cb=a,e},e._wayfarer=!0,e}var trie=require(45);module.exports=Wayfarer;

},{"45":45}],45:[function(require,module,exports){
function Trie(){if(!(this instanceof Trie))return new Trie;this.trie={nodes:{}}}var mutate=require(48),xtend=require(47);module.exports=Trie,Trie.prototype.create=function(e){function n(e,t){var o=r.hasOwnProperty(e)&&r[e];if(!1===o)return t;var i=null;return/^:|^\*/.test(o)?(t.nodes.hasOwnProperty("$$")?i=t.nodes.$$:(i={nodes:{}},t.nodes.$$=i),"*"===o[0]&&(t.wildcard=!0),t.name=o.replace(/^:|^\*/,"")):t.nodes.hasOwnProperty(o)?i=t.nodes[o]:(i={nodes:{}},t.nodes[o]=i),n(e+1,i)}var r=e.replace(/^\//,"").split("/");return n(0,this.trie)},Trie.prototype.match=function(e){function n(e,o){if(void 0!==o){var i=r[e];if(void 0===i)return o;if(o.nodes.hasOwnProperty(i))return n(e+1,o.nodes[i]);if(o.wildcard){try{t.wildcard=decodeURIComponent(r.slice(e).join("/"))}catch(r){return n(e,void 0)}return o.nodes.$$}if(o.name){try{t[o.name]=decodeURIComponent(i)}catch(r){return n(e,void 0)}return n(e+1,o.nodes.$$)}return n(e+1)}}var r=e.replace(/^\//,"").split("/"),t={},o=n(0,this.trie);if(o)return o=xtend(o),o.params=t,o},Trie.prototype.mount=function(e,n){var r=e.replace(/^\//,"").split("/"),t=null,o=null;if(1===r.length)o=r[0],t=this.create(o);else{var i=r.splice(0,r.length-1).join("/");o=r[0],t=this.create(i)}mutate(t.nodes,n.nodes),n.name&&(t.name=n.name),t.nodes[""]&&(Object.keys(t.nodes[""]).forEach(function(e){"nodes"!==e&&(t[e]=t.nodes[""][e])}),mutate(t.nodes,t.nodes[""].nodes),delete t.nodes[""].nodes)};

},{"47":47,"48":48}],46:[function(require,module,exports){
"use strict";function forEachArray(e,t){for(var r=0;r<e.length;r++)t(e[r])}function isEmpty(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function initParams(e,t,r){var n=e;return isFunction(t)?(r=t,"string"==typeof e&&(n={uri:e})):n=xtend(t,{uri:e}),n.callback=r,n}function createXHR(e,t,r){return t=initParams(e,t,r),_createXHR(t)}function _createXHR(e){function t(){var e=void 0;if(e=a.response?a.response:a.responseText||getXml(a),R)try{e=JSON.parse(e)}catch(e){}return e}function r(e){return clearTimeout(c),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,s(e,X)}function n(){if(!u){var r;clearTimeout(c);var n=X,o=null;return 0!==(r=e.useXDR&&void 0===a.status?200:1223===a.status?204:a.status)?(n={body:t(),statusCode:r,method:p,headers:{},url:d,rawRequest:a},a.getAllResponseHeaders&&(n.headers=parseHeaders(a.getAllResponseHeaders()))):o=new Error("Internal XMLHttpRequest Error"),s(o,n,n.body)}}if(void 0===e.callback)throw new Error("callback argument missing");var o=!1,s=function(t,r,n){o||(o=!0,e.callback(t,r,n))},a=e.xhr||null;a||(a=e.cors||e.useXDR?new createXHR.XDomainRequest:new createXHR.XMLHttpRequest);var i,u,c,d=a.url=e.uri||e.url,p=a.method=e.method||"GET",l=e.body||e.data,f=a.headers=e.headers||{},m=!!e.sync,R=!1,X={body:void 0,headers:{},statusCode:0,method:p,url:d,rawRequest:a};if("json"in e&&!1!==e.json&&(R=!0,f.accept||f.Accept||(f.Accept="application/json"),"GET"!==p&&"HEAD"!==p&&(f["content-type"]||f["Content-Type"]||(f["Content-Type"]="application/json"),l=JSON.stringify(!0===e.json?l:e.json))),a.onreadystatechange=function(){4===a.readyState&&setTimeout(n,0)},a.onload=n,a.onerror=r,a.onprogress=function(){},a.onabort=function(){u=!0},a.ontimeout=r,a.open(p,d,!m,e.username,e.password),m||(a.withCredentials=!!e.withCredentials),!m&&e.timeout>0&&(c=setTimeout(function(){if(!u){u=!0,a.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",r(e)}},e.timeout)),a.setRequestHeader)for(i in f)f.hasOwnProperty(i)&&a.setRequestHeader(i,f[i]);else if(e.headers&&!isEmpty(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(a.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(a),a.send(l||null),a}function getXml(e){if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;return""!==e.responseType||t?null:e.responseXML}function noop(){}var window=require(23),isFunction=require(24),parseHeaders=require(38),xtend=require(47);module.exports=createXHR,createXHR.XMLHttpRequest=window.XMLHttpRequest||noop,createXHR.XDomainRequest="withCredentials"in new createXHR.XMLHttpRequest?createXHR.XMLHttpRequest:window.XDomainRequest,forEachArray(["get","put","post","patch","head","delete"],function(e){createXHR["delete"===e?"del":e]=function(t,r,n){return r=initParams(t,r,n),r.method=e.toUpperCase(),_createXHR(r)}});

},{"23":23,"24":24,"38":38,"47":47}],47:[function(require,module,exports){
function extend(){for(var r={},e=0;e<arguments.length;e++){var t=arguments[e];for(var n in t)hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r}module.exports=extend;var hasOwnProperty=Object.prototype.hasOwnProperty;

},{}],48:[function(require,module,exports){
function extend(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r}module.exports=extend;var hasOwnProperty=Object.prototype.hasOwnProperty;

},{}],49:[function(require,module,exports){
module.exports=function e(t,n){for(var o=0;o<n.length;o++){var i=n[o];if(Array.isArray(i))e(t,i);else{if(("number"==typeof i||"boolean"==typeof i||i instanceof Date||i instanceof RegExp)&&(i=i.toString()),"string"==typeof i){if(/^[\n\r\s]+$/.test(i))continue;if(t.lastChild&&"#text"===t.lastChild.nodeName){t.lastChild.nodeValue+=i;continue}i=document.createTextNode(i)}i&&i.nodeType&&t.appendChild(i)}}};

},{}]},{},[4]);
